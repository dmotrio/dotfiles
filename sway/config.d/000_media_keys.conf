set $notification_time 1000

# Audio
set $audio_notification_cmd command -v notify-send >/dev/null && \
  VALUE=$(pactl get-sink-volume @DEFAULT_SINK@ | head -n 1 | awk '{print substr($5, 1, length($5)-1)}') && \
  notify-send -e -h string:x-canonical-private-synchronous:audio \
  -h "int:value:$VALUE" -t $notification_time "Volume: ${VALUE}%"

set $mute_notification_cmd command -v notify-send > /dev/null && \
  VALUE=$(pactl get-sink-mute @DEFAULT_SINK@ | head -n 1 | awk '{print $2}') && \
  notify-send -e -h string:x-canonical-private-synchronous:audio \
  -h "string:x-canonical-private-synchronous:audio" -t $notification_time "Mute: ${VALUE}"

set $mute_mic_notification_cmd command -v notify-send > /dev/null && \
  VALUE=$(pactl get-source-mute @DEFAULT_SOURCE@ | head -n 1 | awk '{print $2}') && \
  notify-send -e -h string:x-canonical-private-synchronous:audio \
  -h "string:x-canonical-private-synchronous:audio" -t $notification_time "Mic Mute: ${VALUE}"

bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle; exec $mute_notification_cmd
bindsym --locked XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5% && $audio_notification_cmd
bindsym --locked XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5% && $audio_notification_cmd
bindsym --locked XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SOURCE@ toggle && $mute_mic_notification_cmd


# Brightness notification command
set $brightness_notification_cmd command -v notify-send >/dev/null && \
  VALUE=$(brightnessctl get) && \
  MAX=255 && \
  PERCENT=$((VALUE * 100 / MAX)) && \
  notify-send -e -h string:x-canonical-private-synchronous:brightness \
  -h "int:value:$PERCENT" -t $notification_time "Brightness: ${PERCENT}%"

# Example usage with key binding
bindsym XF86MonBrightnessDown exec brightnessctl s 10%- && $brightness_notification_cmd
bindsym XF86MonBrightnessUp exec brightnessctl s 10%+ && $brightness_notification_cmd


bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# bindsym XF86AudioMedia exec notify-send -t 1000 "Media key pressed"
bindsym {
    Print       exec grimshot --notify copy output 
    $mod+Print  exec grimshot --notify copy area
}

bindsym $mod+XF86AudioMedia exec --no-startup-id \
    (pgrep -x wf-recorder > /dev/null && killall -s SIGINT wf-recorder && notify-send "Recording Stopped") || \
    (notify-send "Recording Started + Audio." && wf-recorder --audio --file ~/Videos/$(date +'%Y-%m-%d-%H-%M-%S').mp4)

bindsym XF86AudioMedia exec --no-startup-id \
    (pgrep -x wf-recorder > /dev/null && killall -s SIGINT wf-recorder && notify-send "Recording Stopped") || \
    (notify-send "Recording Started" && wf-recorder --file ~/Videos/$(date +'%Y-%m-%d-%H-%M-%S').mp4)
